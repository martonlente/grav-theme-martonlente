{% extends 'partials/base.html.twig' %}

{% block hero %}
  {% include 'partials/hero.html.twig' %}
{% endblock %}
{% block content %}
  {{ page.content|raw }}
  <section>
    <div class="container pb-6">
      <div class="row pb-3-md pb-4">
        <div class="col-1"></div>
        <div class="col-10">
          <ul class="d-flex">
            <li class="fs-7 fs-8-lg letter-spacing-lg list-style-none mb-1-md me-3 text-uppercase">Filter</li>
            <ul class="d-flex flex-wrap">
              <li class="fs-7-lg list-style-none mb-1-md me-3"><button class="bg-transparent border-0 font-sans-serif fs-6 js-btn-isotope-filter secondary" data-filter="*">All</button></li>
              {% if page.taxonomy.category %}
                {% for category in page.taxonomy.category %}
                  <li class="fs-7-lg list-style-none mb-1-md me-3"><button class="bg-transparent border-0 font-sans-serif fs-6 js-btn-isotope-filter primary" data-filter=".{{ category|e }}">{{ category|e }}</button></li>
                {% endfor %}
              {% endif %}
            </ul>
            </ul>
        </div>
        <div class="col-1"></div>
      </div>
      <div class="js-isotope-grid">
        {% for p in page.collection %}
          {% set loop_index = loop.index|e %}
          <div class="flex-column-reverse-md js-isotope-grid-item mb-6 row {% if loop_index is even %}flex-row-reverse{% endif %} {% if p.taxonomy.category %}{% for category in p.taxonomy.category %}{{ category|e }}{% endfor %}{% endif %}">
            <a class="col-7" href="{{ p.url|e }}">
              <div class="bg-center bg-cover mb-3 {{ p.header.image_ratio|e }}" style="background-image: url('{{ p.media.images|first.resize(1920).url|e }}');"></div>
              <div class="grid-columns-7 row">
                <div class="col-1"></div>
                <div class="col-5">
                  <h3 class="mb-3 primary">{{ p.title|e }}</h3>
                  <h4 class="fs-6 mb-0-md mb-3 primary">{{ p.header.subtitle|e }}</h4>
                  <div class="d-none-md">
                    {% if p.taxonomy.tag %}
                      {% for tag in p.taxonomy.tag %}
                        <span class="grey-60 text-delimiter text-nowrap">{{ tag|e }}</span>
                      {% endfor %}
                    {% endif %}
                  </div>
                </div>
                <div class="col-1"></div>
              </div>
            </a>
            <div class="col-5 mb-1-5-md pt-0-md pt-3">
              <div class="grey-60 {% if loop_index is even %}text-end{% else %}text-end-md{% endif %}">{{ p.date|date("Y. m. d.")|e }}</div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
{% endblock %}
